<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./index.html">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
<div id="main">
<h1 class="libtitle">CoqDSC.ILambdaALDeriveProofs</h1>

<div class="code">
</div>

<div class="doc">
<a name="lab133"></a><h1 class="section">Soundness of CTS differentiation.</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CoqDSC.Index.html#"><span class="id" title="library">Index</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.omega.Omega.html#"><span class="id" title="library">Omega</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CoqDSC.ErrorMonad.html#"><span class="id" title="library">ErrorMonad</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CoqDSC.Misc.html#"><span class="id" title="library">Misc</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CoqDSC.LambdaAL.html#"><span class="id" title="library">LambdaAL</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#"><span class="id" title="library">LambdaALOperationalSemantics</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#"><span class="id" title="library">LambdaALOperationalSemanticsProofs</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CoqDSC.LambdaALDerive.html#"><span class="id" title="library">LambdaALDerive</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CoqDSC.LambdaALValidity.html#"><span class="id" title="library">LambdaALValidity</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CoqDSC.LambdaALEnvValidity.html#"><span class="id" title="library">LambdaALEnvValidity</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CoqDSC.LambdaALFundamentalProperty.html#"><span class="id" title="library">LambdaALFundamentalProperty</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CoqDSC.LambdaALDeriveProofs.html#"><span class="id" title="library">LambdaALDeriveProofs</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CoqDSC.ILambdaAL.html#"><span class="id" title="library">ILambdaAL</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CoqDSC.ILambdaALValues.html#"><span class="id" title="library">ILambdaALValues</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsPrimitives.html#"><span class="id" title="library">ILambdaALOperationalSemanticsPrimitives</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#"><span class="id" title="library">ILambdaALOperationalSemantics</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CoqDSC.ILambdaALDerive.html#"><span class="id" title="library">ILambdaALDerive</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#"><span class="id" title="library">ILambdaALOperationalSemanticsProofs</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#"><span class="id" title="library">ILambdaALExtensionWithCaches</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#"><span class="id" title="library">ILambdaALCTSProofs</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="cts_derive_cts_dvalue_gen"><span class="id" title="lemma">cts_derive_cts_dvalue_gen</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">n</span> <span class="id" title="var">E</span> <span class="id" title="var">dE</span> <span class="id" title="var">E'</span> <span class="id" title="var">dEu</span> <span class="id" title="var">Eu'</span> <span class="id" title="var">t</span> <span class="id" title="var">ctx</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">v'</span> <span class="id" title="var">dv</span> <span class="id" title="var">VC</span> <span class="id" title="var">VC'</span> <span class="id" title="var">xdF</span> <span class="id" title="var">xdF'</span> <span class="id" title="var">F'</span>},<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.LambdaALEnvValidity.html#rel_env"><span class="id" title="definition">rel_env</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dE"><span class="id" title="variable">dE</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#E'"><span class="id" title="variable">E'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Eu</span> := <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#2c0a5a7a3edbd2d036ce52734d0e9f72"><span class="id" title="notation">⌊</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dEu"><span class="id" title="variable">dEu</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#2c0a5a7a3edbd2d036ce52734d0e9f72"><span class="id" title="notation">⌋</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#f1d0c93cf3a4c2546abcd77134ca0628"><span class="id" title="notation">⌈</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dEu"><span class="id" title="variable">dEu</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#f1d0c93cf3a4c2546abcd77134ca0628"><span class="id" title="notation">⌉</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#Eu'"><span class="id" title="variable">Eu'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.LambdaAL.html#graft"><span class="id" title="definition">graft</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#ctx"><span class="id" title="variable">ctx</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#1413d6cc04761d501b915a7702e5423d"><span class="id" title="notation">[</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#E"><span class="id" title="variable">E</span></a>  <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#1413d6cc04761d501b915a7702e5423d"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#ctx"><span class="id" title="variable">ctx</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#1413d6cc04761d501b915a7702e5423d"><span class="id" title="notation">⇑</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#Eu"><span class="id" title="variable">Eu</span></a>  <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#1413d6cc04761d501b915a7702e5423d"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a>  <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#1cdbb28de46816ab21e16a69859bc55a"><span class="id" title="notation">[</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#Eu"><span class="id" title="variable">Eu</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#1cdbb28de46816ab21e16a69859bc55a"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#1cdbb28de46816ab21e16a69859bc55a"><span class="id" title="notation">⇓</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#1cdbb28de46816ab21e16a69859bc55a"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#1413d6cc04761d501b915a7702e5423d"><span class="id" title="notation">[</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#E'"><span class="id" title="variable">E'</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#1413d6cc04761d501b915a7702e5423d"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#ctx"><span class="id" title="variable">ctx</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#1413d6cc04761d501b915a7702e5423d"><span class="id" title="notation">⇑</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#Eu'"><span class="id" title="variable">Eu'</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#1413d6cc04761d501b915a7702e5423d"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a>  <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#1cdbb28de46816ab21e16a69859bc55a"><span class="id" title="notation">[</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#Eu'"><span class="id" title="variable">Eu'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#E'"><span class="id" title="variable">E'</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#1cdbb28de46816ab21e16a69859bc55a"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#1cdbb28de46816ab21e16a69859bc55a"><span class="id" title="notation">⇓</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#v'"><span class="id" title="variable">v'</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#1cdbb28de46816ab21e16a69859bc55a"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#01bd7ca0eb1860d1a800146303cd75bc"><span class="id" title="notation">[[</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dE"><span class="id" title="variable">dE</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#01bd7ca0eb1860d1a800146303cd75bc"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CoqDSC.LambdaALDerive.html#derive"><span class="id" title="definition">derive</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#ctx"><span class="id" title="variable">ctx</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#01bd7ca0eb1860d1a800146303cd75bc"><span class="id" title="notation">⇑</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dEu"><span class="id" title="variable">dEu</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#01bd7ca0eb1860d1a800146303cd75bc"><span class="id" title="notation">]]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#5296a2e187cde279670076fa8dae463d"><span class="id" title="notation">[[</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dEu"><span class="id" title="variable">dEu</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dE"><span class="id" title="variable">dE</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#5296a2e187cde279670076fa8dae463d"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CoqDSC.LambdaALDerive.html#derive"><span class="id" title="definition">derive</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#5296a2e187cde279670076fa8dae463d"><span class="id" title="notation">⇓</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dv"><span class="id" title="variable">dv</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#5296a2e187cde279670076fa8dae463d"><span class="id" title="notation">@</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#5296a2e187cde279670076fa8dae463d"><span class="id" title="notation">]]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#dc959d4d5dcec7a26a43816eb6068995"><span class="id" title="notation">[[</span></a> <a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#Old"><span class="id" title="constructor">Old</span></a> <a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#dc959d4d5dcec7a26a43816eb6068995"><span class="id" title="notation">#</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_denvironment"><span class="id" title="definition">cts_denvironment</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dE"><span class="id" title="variable">dE</span></a> <a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#dc959d4d5dcec7a26a43816eb6068995"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_denvironment"><span class="id" title="definition">cts_denvironment</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dEu"><span class="id" title="variable">dEu</span></a> <a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#dc959d4d5dcec7a26a43816eb6068995"><span class="id" title="notation">↑</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#ctx"><span class="id" title="variable">ctx</span></a> <a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#dc959d4d5dcec7a26a43816eb6068995"><span class="id" title="notation">⇾</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#xdF"><span class="id" title="variable">xdF</span></a>   <a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#dc959d4d5dcec7a26a43816eb6068995"><span class="id" title="notation">]]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#dc959d4d5dcec7a26a43816eb6068995"><span class="id" title="notation">[[</span></a> <a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#New"><span class="id" title="constructor">New</span></a> <a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#dc959d4d5dcec7a26a43816eb6068995"><span class="id" title="notation">#</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_denvironment"><span class="id" title="definition">cts_denvironment</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dE"><span class="id" title="variable">dE</span></a> <a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#dc959d4d5dcec7a26a43816eb6068995"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_denvironment"><span class="id" title="definition">cts_denvironment</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dEu"><span class="id" title="variable">dEu</span></a> <a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#dc959d4d5dcec7a26a43816eb6068995"><span class="id" title="notation">↑</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#ctx"><span class="id" title="variable">ctx</span></a> <a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#dc959d4d5dcec7a26a43816eb6068995"><span class="id" title="notation">⇾</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#xdF'"><span class="id" title="variable">xdF'</span></a>  <a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#dc959d4d5dcec7a26a43816eb6068995"><span class="id" title="notation">]]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">VCu</span> := <a class="idref" href="CoqDSC.Misc.html#drop"><span class="id" title="definition">drop</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#xdF"><span class="id" title="variable">xdF</span></a>) <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#VC"><span class="id" title="variable">VC</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">dF</span>  := <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#xdF"><span class="id" title="variable">xdF</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_denvironment"><span class="id" title="definition">cts_denvironment</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dE"><span class="id" title="variable">dE</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">dF'</span> := <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#xdF'"><span class="id" title="variable">xdF'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_denvironment"><span class="id" title="definition">cts_denvironment</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dE"><span class="id" title="variable">dE</span></a> <span class="id" title="tactic">in</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#c4fd2cc8ca41bd987e24ec2bbce4bde0"><span class="id" title="notation">[#</span></a> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#c0bae215165134e8b45be99455570b9f"><span class="id" title="notation">⌊#</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dF"><span class="id" title="variable">dF</span></a> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#c0bae215165134e8b45be99455570b9f"><span class="id" title="notation">⌋</span></a>  <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#c4fd2cc8ca41bd987e24ec2bbce4bde0"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_term_aux"><span class="id" title="definition">cts_term_aux</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#c4fd2cc8ca41bd987e24ec2bbce4bde0"><span class="id" title="notation">⇓</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_value"><span class="id" title="definition">cts_value</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.ILambdaALValues.html#CacheValue"><span class="id" title="constructor">CacheValue</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#VC"><span class="id" title="variable">VC</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#c4fd2cc8ca41bd987e24ec2bbce4bde0"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#19fd3d96a032a1abc5e9412813973d23"><span class="id" title="notation">⌈#</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dF'"><span class="id" title="variable">dF'</span></a> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#19fd3d96a032a1abc5e9412813973d23"><span class="id" title="notation">⌉</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#F'"><span class="id" title="variable">F'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#c4fd2cc8ca41bd987e24ec2bbce4bde0"><span class="id" title="notation">[#</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#F'"><span class="id" title="variable">F'</span></a> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#c4fd2cc8ca41bd987e24ec2bbce4bde0"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_term_aux"><span class="id" title="definition">cts_term_aux</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#c4fd2cc8ca41bd987e24ec2bbce4bde0"><span class="id" title="notation">⇓</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_value"><span class="id" title="definition">cts_value</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#v'"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.ILambdaALValues.html#CacheValue"><span class="id" title="constructor">CacheValue</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#VC'"><span class="id" title="variable">VC'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#c4fd2cc8ca41bd987e24ec2bbce4bde0"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">[[#</span></a><a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#VCu"><span class="id" title="variable">VCu</span></a><a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dF'"><span class="id" title="variable">dF'</span></a> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_derive_term"><span class="id" title="definition">cts_derive_term</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">⇓</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_dvalue"><span class="id" title="definition">cts_dvalue</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dv"><span class="id" title="variable">dv</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.ILambdaALValues.html#CacheValue"><span class="id" title="constructor">CacheValue</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#VC'"><span class="id" title="variable">VC'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">]]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Arith.Wf_nat.html#lt_wf_ind"><span class="id" title="lemma">lt_wf_ind</span></a> <span class="id" title="var">n</span>). <span class="id" title="tactic">clear</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">Hrec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">Hrelenv</span> <span class="id" title="var">Eu</span> <span class="id" title="var">HEu'</span> <span class="id" title="var">Hgraft</span> <span class="id" title="var">Hevalctxu</span> <span class="id" title="var">Hevalu</span> <span class="id" title="var">Hevalctxu'</span> <span class="id" title="var">Hevalu'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hdevalctx</span> <span class="id" title="var">Hdeval</span> <span class="id" title="var">Holdextend</span> <span class="id" title="var">Hnewextend</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">VCu</span> <span class="id" title="var">dF</span> <span class="id" title="var">dF'</span> <span class="id" title="var">Holdeval</span> <span class="id" title="var">HF'</span> <span class="id" title="var">Hneweval</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HrelenvEu</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.LambdaALEnvValidity.html#rel_env"><span class="id" title="definition">rel_env</span></a> (<span class="id" title="var">Eu</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">E</span>) (<span class="id" title="var">dEu</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">dE</span>) (<span class="id" title="var">Eu'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">E'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.LambdaALEnvValidity.html#rel_env_through_context_evaluation"><span class="id" title="lemma">rel_env_through_context_evaluation</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">Eu</span> <span class="id" title="tactic">in</span> * |- *.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.LambdaALEnvValidity.html#original_environment_under_rel_env"><span class="id" title="lemma">original_environment_under_rel_env</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hrelenv</span>). <span class="id" title="tactic">intro</span> <span class="id" title="var">HE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HE</span> <span class="id" title="tactic">in</span> * |-. <span class="id" title="tactic">clear</span> <span class="id" title="var">HE</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">E</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.LambdaALEnvValidity.html#modified_environment_under_rel_env"><span class="id" title="lemma">modified_environment_under_rel_env</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hrelenv</span>). <span class="id" title="tactic">intro</span> <span class="id" title="var">HE'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#original_environment_app"><span class="id" title="lemma">original_environment_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HrelenvEu</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HEuE'</span>: <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#f1d0c93cf3a4c2546abcd77134ca0628"><span class="id" title="notation">⌈</span></a> <span class="id" title="var">dEu</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">dE</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#f1d0c93cf3a4c2546abcd77134ca0628"><span class="id" title="notation">⌉</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="var">Eu'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">E'</span>)) <span class="id" title="tactic">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#modified_environment_app"><span class="id" title="lemma">modified_environment_app</span></a>; <span class="id" title="tactic">eauto</span>).<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">u</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">x</span> | <span class="id" title="var">f</span> <span class="id" title="var">x</span> | <span class="id" title="var">xs</span> ]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> * |- *.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* </div>

<div class="doc">
Case "x" 
</div>
<div class="code">
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inverse</span> <span class="id" title="var">Hdeval</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CoqDSC.Environment.html#lookup"><span class="id" title="definition">Environment.lookup</span></a> (<a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_denvironment"><span class="id" title="definition">cts_denvironment</span></a> <span class="id" title="var">dEu</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_denvironment"><span class="id" title="definition">cts_denvironment</span></a> <span class="id" title="var">dE</span>) <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_value"><span class="id" title="definition">cts_value</span></a> <span class="id" title="var">v0</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_dvalue"><span class="id" title="definition">cts_dvalue</span></a> <span class="id" title="var">dv</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#cts_denvironment_app"><span class="id" title="lemma">cts_denvironment_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_denvironment"><span class="id" title="definition">cts_denvironment</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.Environment.html#map_lookup"><span class="id" title="lemma">Environment.map_lookup</span></a> <span class="id" title="var">H2</span> (<span class="id" title="var">f</span> := <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_dbinding"><span class="id" title="definition">cts_dbinding</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_dbinding"><span class="id" title="definition">cts_dbinding</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#extended_with_caches_lookup"><span class="id" title="lemma">extended_with_caches_lookup</span></a> <span class="id" title="var">Hnewextend</span> (<span class="id" title="var">x</span> := <span class="id" title="var">x</span>) <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inverse</span> <span class="id" title="var">Hneweval</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#eval_cache_update_of_eval_cache_under_modified_environment"><span class="id" title="lemma">eval_cache_update_of_eval_cache_under_modified_environment</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* </div>

<div class="doc">
Case "let y = f x in u" 
<div class="paragraph"> </div>

 Update the context we are working under. 
</div>
<div class="code">
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hgraft'</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.LambdaAL.html#graft"><span class="id" title="definition">graft</span></a> (<a class="idref" href="CoqDSC.LambdaAL.html#graft"><span class="id" title="definition">graft</span></a> <span class="id" title="var">ctx</span> (<a class="idref" href="CoqDSC.LambdaAL.html#call"><span class="id" title="definition">LambdaAL.call</span></a> <span class="id" title="var">f</span> <span class="id" title="var">x</span>)) <span class="id" title="var">u</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#graft_def"><span class="id" title="lemma">graft_def</span></a>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hgraft</span>.<br/>

<br/>
</div>

<div class="doc">
Make explicit the values and the caches produced by the
          evaluation of <span class="inlinecode"><a class="idref" href="CoqDSC.LibTactics.html#f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode"><a class="idref" href="CoqDSC.LibTactics.html#x"><span class="id" title="variable">x</span></a></span> in the original and the modified
          evaluations, as well as their compiled counterparts. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#call_inversion"><span class="id" title="lemma">call_inversion</span></a> <span class="id" title="var">Hevalu</span>) <span class="id" title="keyword">as</span> [ <span class="id" title="var">vy</span> [ <span class="id" title="var">Hfx</span> <span class="id" title="var">Hnfx</span> ] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#original_environment_app"><span class="id" title="lemma">original_environment_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#eval_call_under_old_extended_environment"><span class="id" title="lemma">eval_call_under_old_extended_environment</span></a> <span class="id" title="var">Holdextend</span> <span class="id" title="var">Hfx</span>) <span class="id" title="keyword">as</span> [ <span class="id" title="var">VCy</span> <span class="id" title="var">Hctsfx</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#call_inversion"><span class="id" title="lemma">call_inversion</span></a> <span class="id" title="var">Hevalu'</span>) <span class="id" title="keyword">as</span> [ <span class="id" title="var">vy'</span> [ <span class="id" title="var">Hfx'</span> <span class="id" title="var">Hnfx'</span> ] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#eval_call_under_modified_extended_environment"><span class="id" title="lemma">eval_call_under_modified_extended_environment</span></a> <span class="id" title="var">HF'</span> <span class="id" title="var">Hnewextend</span> <span class="id" title="var">HEuE'</span> <span class="id" title="var">Hfx'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [ <span class="id" title="var">VCy'</span> <span class="id" title="var">Hctsfx'</span> ].<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#VCu"><span class="id" title="variable">VCu</span></a></span> is starting with <span class="inlinecode"><a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#Vy"><span class="id" title="variable">Vy</span></a></span> <span class="inlinecode"><span class="id" title="var">and</span></span> <span class="inlinecode"><a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#VCy"><span class="id" title="variable">VCy</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HVCu</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">exists</span></a> <span class="id" title="var">VCu'</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <span class="id" title="var">VCu</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_value"><span class="id" title="definition">cts_value</span></a> <span class="id" title="var">vy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">VCy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#VCu'"><span class="id" title="variable">VCu'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">VCu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#inverse_call_evaluation"><span class="id" title="lemma">inverse_call_evaluation</span></a> <span class="id" title="var">Holdeval</span>) <span class="id" title="keyword">as</span> [ <span class="id" title="var">altVy</span> [ <span class="id" title="var">altVCy</span> <span class="id" title="var">HaltVy</span> ] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">splitHyps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#eval_deterministic"><span class="id" title="lemma">eval_deterministic</span></a> <span class="id" title="var">H</span> <span class="id" title="var">Hctsfx</span>). <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq</span>. <span class="id" title="var">inverse</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">dF</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>, <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">exists</span></a> <span class="id" title="var">preVC</span> <span class="id" title="var">postVC</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">VC</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#preVC"><span class="id" title="variable">preVC</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_value"><span class="id" title="definition">cts_value</span></a> <span class="id" title="var">vy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">VCy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#postVC"><span class="id" title="variable">postVC</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#preVC"><span class="id" title="variable">preVC</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#depth_of_term"><span class="id" title="definition">depth_of_term</span></a> <span class="id" title="var">ctx</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#call_result_in_cache"><span class="id" title="lemma">call_result_in_cache</span></a>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">preVC</span> [ <span class="id" title="var">postVC</span> <span class="id" title="var">HVC</span> ] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">splitHyps</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">postVC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">xdF</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#depth_of_term"><span class="id" title="definition">depth_of_term</span></a> <span class="id" title="var">ctx</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#extension_length_is_depth_of_context"><span class="id" title="lemma">extension_length_is_depth_of_context</span></a>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CoqDSC.Misc.html#drop_app"><span class="id" title="lemma">drop_app</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HVCu</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">VCu'</span> ]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> * |- *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">VCy</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">VCy</span> ].<br/>

<br/>
</div>

<div class="doc">
We reason by cases on the last rule that produced <span class="inlinecode"><span class="id" title="var">Hdeval</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inverse</span> <span class="id" title="var">Hdeval</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** </div>

<div class="doc">
df = dReplace. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">Eu</span> <span class="id" title="tactic">in</span> * |- *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#original_environment_lookup"><span class="id" title="lemma">original_environment_lookup</span></a> (<span class="id" title="var">dEu</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">dE</span>) <span class="id" title="var">f</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">HlookupVf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#extension_lookup_cts_denvironment"><span class="id" title="lemma">extension_lookup_cts_denvironment</span></a> <span class="id" title="var">Holdextend</span> <span class="id" title="var">H3</span>) <span class="id" title="keyword">as</span> [ <span class="id" title="var">oldVCf</span> <span class="id" title="var">Holdlookupf</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#extension_lookup_cts_denvironment"><span class="id" title="lemma">extension_lookup_cts_denvironment</span></a> <span class="id" title="var">Hnewextend</span> <span class="id" title="var">H3</span>) <span class="id" title="keyword">as</span> [ <span class="id" title="var">VCf</span> <span class="id" title="var">Hlookupf</span> ].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">vy'0</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">vy'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">E'0</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><span class="id" title="var">Eu'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">E'</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a>). <span class="id" title="tactic">congruence</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#sound_eval"><span class="id" title="lemma">sound_eval</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hfx'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#deterministic_eval"><span class="id" title="lemma">deterministic_eval</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">vy0</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">vy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#sound_eval"><span class="id" title="lemma">sound_eval</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hfx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#deterministic_eval"><span class="id" title="lemma">deterministic_eval</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">[[#</span></a><span class="id" title="var">VCu'</span><a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.Environment.html#bind"><span class="id" title="definition">Environment.bind</span></a> <span class="id" title="var">dF'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_value"><span class="id" title="definition">cts_value</span></a> <span class="id" title="var">vy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">VCy'</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.ILambdaALValues.html#dIReplace"><span class="id" title="constructor">dIReplace</span></a> (<a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_value"><span class="id" title="definition">cts_value</span></a> <span class="id" title="var">vy'</span>)<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_derive_term"><span class="id" title="definition">cts_derive_term</span></a> (<a class="idref" href="CoqDSC.LambdaAL.html#graft"><span class="id" title="definition">graft</span></a> (<a class="idref" href="CoqDSC.LambdaAL.html#graft"><span class="id" title="definition">graft</span></a> <span class="id" title="var">ctx</span> <a class="idref" href="CoqDSC.LambdaAL.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">@(</span></a> <span class="id" title="var">f</span><a class="idref" href="CoqDSC.LambdaAL.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">,</span></a> <span class="id" title="var">x</span><a class="idref" href="CoqDSC.LambdaAL.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">)</span></a>) <span class="id" title="var">u</span>) <span class="id" title="var">u</span> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">⇓</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_dvalue"><span class="id" title="definition">cts_dvalue</span></a> <span class="id" title="var">dv</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.ILambdaALValues.html#CacheValue"><span class="id" title="constructor">CacheValue</span></a> <span class="id" title="var">VC'</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">]]</span></a><br/>
        ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">nxdF</span>  := <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_value"><span class="id" title="definition">cts_value</span></a> <span class="id" title="var">vy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="CoqDSC.ILambdaALValues.html#CacheValue"><span class="id" title="constructor">CacheValue</span></a> <span class="id" title="var">VCy</span>)<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.ILambdaALValues.html#dIReplace"><span class="id" title="constructor">dIReplace</span></a> (<a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_value"><span class="id" title="definition">cts_value</span></a> <span class="id" title="var">vy'</span>)<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">xdF</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">nxdF'</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_value"><span class="id" title="definition">cts_value</span></a> <span class="id" title="var">vy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">VCy'</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.ILambdaALValues.html#dIReplace"><span class="id" title="constructor">dIReplace</span></a> (<a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_value"><span class="id" title="definition">cts_value</span></a> <span class="id" title="var">vy'</span>)<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">xdF'</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HVCu'</span>: <span class="id" title="var">VCu'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="CoqDSC.Misc.html#drop"><span class="id" title="definition">drop</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">nxdF</span>) <span class="id" title="var">VC</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">nxdF</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a>. <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.Misc.html#drop_cons"><span class="id" title="lemma">drop_cons</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HVCu'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">Hrec</span> <span class="id" title="var">n0</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">dEu</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">vy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.LambdaALValues.html#dReplace"><span class="id" title="constructor">LambdaALValues.dReplace</span></a> <span class="id" title="var">vy'</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">dEu</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Eu'</span> := <span class="id" title="var">vy'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">Eu'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">xdF'</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_value"><span class="id" title="definition">cts_value</span></a> <span class="id" title="var">vy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">VCy'</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.ILambdaALValues.html#dIReplace"><span class="id" title="constructor">dIReplace</span></a> (<a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_value"><span class="id" title="definition">cts_value</span></a> <span class="id" title="var">vy'</span>)<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">xdF'</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> * |- *; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#modified_environment_bind"><span class="id" title="lemma">LambdaALOperationalSemanticsProofs.modified_environment_bind</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#move_replace"><span class="id" title="lemma">LambdaALOperationalSemanticsProofs.move_replace</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#eval_context_ended_with_call"><span class="id" title="lemma">eval_context_ended_with_call</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#original_environment_app"><span class="id" title="lemma">original_environment_app</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#eval_context_ended_with_call"><span class="id" title="lemma">eval_context_ended_with_call</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.LambdaALDeriveProofs.html#derive_context_ended_with_call"><span class="id" title="lemma">derive_context_ended_with_call</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CoqDSC.LambdaAL.html#dcall"><span class="id" title="definition">LambdaAL.dcall</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#SDReplaceCall"><span class="id" title="constructor">SDReplaceCall</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#NoSteps"><span class="id" title="constructor">NoSteps</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#complete_eval"><span class="id" title="lemma">complete_eval</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#SDVar"><span class="id" title="constructor">SDVar</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#NoSteps"><span class="id" title="constructor">NoSteps</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">nxdF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#extend_old_environment_with_call"><span class="id" title="lemma">extend_old_environment_with_call</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#extend_new_environment_with_call"><span class="id" title="lemma">extend_new_environment_with_call</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#move_cts_value"><span class="id" title="lemma">move_cts_value</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#move_replace"><span class="id" title="lemma">LambdaALOperationalSemanticsProofs.move_replace</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#inverse_call_evaluation"><span class="id" title="lemma">inverse_call_evaluation</span></a> <span class="id" title="var">Holdeval</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="var">splitHyps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#eval_deterministic"><span class="id" title="lemma">eval_deterministic</span></a> <span class="id" title="var">H0</span> <span class="id" title="var">Hctsfx</span>). <span class="id" title="tactic">intro</span> <span class="id" title="var">He</span>. <span class="id" title="var">inject</span> <span class="id" title="var">He</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#modified_environment_bind"><span class="id" title="lemma">modified_environment_bind</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#move_cts_value"><span class="id" title="lemma">move_cts_value</span></a> (<span class="id" title="var">dv</span> := <a class="idref" href="CoqDSC.LambdaALValues.html#dReplace"><span class="id" title="constructor">LambdaALValues.dReplace</span></a> <span class="id" title="var">vy'</span>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#move_replace"><span class="id" title="lemma">LambdaALOperationalSemanticsProofs.move_replace</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#inverse_call_evaluation"><span class="id" title="lemma">inverse_call_evaluation</span></a> <span class="id" title="var">Hneweval</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="var">splitHyps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#eval_deterministic"><span class="id" title="lemma">eval_deterministic</span></a> <span class="id" title="var">H0</span> <span class="id" title="var">Hctsfx'</span>). <span class="id" title="tactic">intro</span> <span class="id" title="var">He</span>. <span class="id" title="var">inject</span> <span class="id" title="var">He</span>. <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#TDReplaceCall"><span class="id" title="constructor">TDReplaceCall</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** </div>

<div class="doc">
F is a primitive, df is a nil change. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">Eu</span> <span class="id" title="tactic">in</span> * |- *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#original_environment_lookup"><span class="id" title="lemma">original_environment_lookup</span></a> (<span class="id" title="var">dEu</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">dE</span>) <span class="id" title="var">f</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">HlookupVf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#extension_lookup_cts_denvironment"><span class="id" title="lemma">extension_lookup_cts_denvironment</span></a> <span class="id" title="var">Holdextend</span> <span class="id" title="var">H3</span>) <span class="id" title="keyword">as</span> [ <span class="id" title="var">oldVCf</span> <span class="id" title="var">Holdlookupf</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#extension_lookup_cts_denvironment"><span class="id" title="lemma">extension_lookup_cts_denvironment</span></a> <span class="id" title="var">Holdextend</span> <span class="id" title="var">H4</span>) <span class="id" title="keyword">as</span> [ <span class="id" title="var">oldVCx</span> <span class="id" title="var">Holdlookupx</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#extension_lookup_cts_denvironment"><span class="id" title="lemma">extension_lookup_cts_denvironment</span></a> <span class="id" title="var">Hnewextend</span> <span class="id" title="var">H3</span>) <span class="id" title="keyword">as</span> [ <span class="id" title="var">VCf</span> <span class="id" title="var">Hlookupf</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#extension_lookup_cts_denvironment"><span class="id" title="lemma">extension_lookup_cts_denvironment</span></a> <span class="id" title="var">Hnewextend</span> <span class="id" title="var">H4</span>) <span class="id" title="keyword">as</span> [ <span class="id" title="var">VCx</span> <span class="id" title="var">Hlookupx</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#modified_environment_lookup"><span class="id" title="lemma">modified_environment_lookup</span></a> <span class="id" title="var">HEuE'</span> <span class="id" title="var">x</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hok</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hok</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">vx'</span> [ <span class="id" title="var">Hlookupvx'</span> <span class="id" title="var">Hmovex</span> ] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#modified_environment_lookup"><span class="id" title="lemma">modified_environment_lookup</span></a> <span class="id" title="var">HEuE'</span> <span class="id" title="var">f</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hok</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hok</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">Vf'</span> [ <span class="id" title="var">HlookupVf'</span> <span class="id" title="var">HmoveVf'</span> ] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#modified_binding"><span class="id" title="definition">modified_binding</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HmoveVf'</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HmoveVf'</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">vy0</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">vy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hlf</span>: <a class="idref" href="CoqDSC.Environment.html#lookup"><span class="id" title="definition">Environment.lookup</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#2c0a5a7a3edbd2d036ce52734d0e9f72"><span class="id" title="notation">⌊</span></a> <span class="id" title="var">dEu</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">dE</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#2c0a5a7a3edbd2d036ce52734d0e9f72"><span class="id" title="notation">⌋</span></a> <span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="CoqDSC.LambdaALValues.html#Primitive"><span class="id" title="constructor">LambdaALValues.Primitive</span></a> <span class="id" title="var">p</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#original_environment_lookup"><span class="id" title="lemma">original_environment_lookup</span></a> (<span class="id" title="var">dEu</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">dE</span>) <span class="id" title="var">f</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hlx</span>: <a class="idref" href="CoqDSC.Environment.html#lookup"><span class="id" title="definition">Environment.lookup</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#2c0a5a7a3edbd2d036ce52734d0e9f72"><span class="id" title="notation">⌊</span></a> <span class="id" title="var">dEu</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">dE</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#2c0a5a7a3edbd2d036ce52734d0e9f72"><span class="id" title="notation">⌋</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">vx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#original_environment_lookup"><span class="id" title="lemma">original_environment_lookup</span></a> (<span class="id" title="var">dEu</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">dE</span>) <span class="id" title="var">x</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#primitive_call_inversion"><span class="id" title="lemma">primitive_call_inversion</span></a> <span class="id" title="var">Hfx</span> <span class="id" title="var">Hlx</span> <span class="id" title="var">Hlf</span>). <span class="id" title="tactic">intro</span> <span class="id" title="var">Hprim'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#9896d80982198b9a6b161fbd8b69b895"><span class="id" title="notation">[[</span></a> <span class="id" title="var">dEu</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">dE</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#9896d80982198b9a6b161fbd8b69b895"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CoqDSC.LambdaALDerive.html#derive"><span class="id" title="definition">derive</span></a> (<a class="idref" href="CoqDSC.LambdaAL.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">@(</span></a><span class="id" title="var">f</span><a class="idref" href="CoqDSC.LambdaAL.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">,</span></a> <span class="id" title="var">x</span><a class="idref" href="CoqDSC.LambdaAL.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">)</span></a>) <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#9896d80982198b9a6b161fbd8b69b895"><span class="id" title="notation">⇓</span></a> <span class="id" title="var">dvy</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#9896d80982198b9a6b161fbd8b69b895"><span class="id" title="notation">]]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#SPrimitiveNil"><span class="id" title="constructor">SPrimitiveNil</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#NoSteps"><span class="id" title="constructor">NoSteps</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#SDVar"><span class="id" title="constructor">SDVar</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hmovey</span>: <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#move"><span class="id" title="definition">LambdaALOperationalSemantics.move</span></a> <span class="id" title="var">vy</span> <span class="id" title="var">dvy</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">vy'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="CoqDSC.LambdaALDeriveProofs.html#derive_soundness2"><span class="id" title="lemma">derive_soundness2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Hfx</span> <span class="id" title="var">Hfx'</span> <span class="id" title="var">H0</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hprim'</span>: <a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsPrimitives.html#eval_primitive"><span class="id" title="definition">eval_primitive</span></a> <span class="id" title="var">p</span> (<a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_value"><span class="id" title="definition">cts_value</span></a> <span class="id" title="var">vx'</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_value"><span class="id" title="definition">cts_value</span></a> <span class="id" title="var">vy'</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">VCy'</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#lookup_value"><span class="id" title="definition">lookup_value</span></a> <span class="id" title="var">F'</span> <span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="CoqDSC.ILambdaALValues.html#IPrimitive"><span class="id" title="constructor">IPrimitive</span></a> <span class="id" title="var">p</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#lookup_modified_environment"><span class="id" title="lemma">lookup_modified_environment</span></a> <span class="id" title="var">HF'</span> <span class="id" title="var">Hlookupf</span>). <span class="id" title="var">splitHyps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#modified_binding"><span class="id" title="definition">modified_binding</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="var">inverse</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#lookup_value"><span class="id" title="definition">lookup_value</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#lookup_value"><span class="id" title="definition">lookup_value</span></a> <span class="id" title="var">F'</span> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_value"><span class="id" title="definition">cts_value</span></a> <span class="id" title="var">vx'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#lookup_modified_environment"><span class="id" title="lemma">lookup_modified_environment</span></a> <span class="id" title="var">HF'</span> <span class="id" title="var">Hlookupx</span>). <span class="id" title="var">splitHyps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#modified_binding"><span class="id" title="definition">modified_binding</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#move_cts_value"><span class="id" title="lemma">move_cts_value</span></a> <span class="id" title="var">Hmovex</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>. <span class="id" title="var">inverse</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#lookup_value"><span class="id" title="definition">lookup_value</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#inverse_primitive_call_evaluation"><span class="id" title="lemma">inverse_primitive_call_evaluation</span></a> <span class="id" title="var">Hctsfx'</span>); <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#eval_primitive_cts_value"><span class="id" title="lemma">eval_primitive_cts_value</span></a> <span class="id" title="var">H7</span>) <span class="id" title="keyword">as</span> [ <span class="id" title="var">VCy0</span> <span class="id" title="var">Hprim</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#eval_dprimitive_cts_value"><span class="id" title="lemma">eval_dprimitive_cts_value</span></a> <span class="id" title="var">H7</span> <span class="id" title="var">H9</span> <span class="id" title="var">Hprim</span> <span class="id" title="var">Hprim'</span> (<a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#move_cts_value"><span class="id" title="lemma">move_cts_value</span></a> <span class="id" title="var">Hmovex</span>) (<a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#move_cts_value"><span class="id" title="lemma">move_cts_value</span></a> <span class="id" title="var">Hmovey</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hd</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hdnext</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">[[#</span></a><span class="id" title="var">VCu'</span><a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.Environment.html#bind"><span class="id" title="definition">Environment.bind</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">xdF'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_denvironment"><span class="id" title="definition">cts_denvironment</span></a> <span class="id" title="var">dE</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_value"><span class="id" title="definition">cts_value</span></a> <span class="id" title="var">vy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">VCy'</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_dvalue"><span class="id" title="definition">cts_dvalue</span></a> <span class="id" title="var">dvy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_derive_term"><span class="id" title="definition">cts_derive_term</span></a> (<a class="idref" href="CoqDSC.LambdaAL.html#graft"><span class="id" title="definition">graft</span></a> (<a class="idref" href="CoqDSC.LambdaAL.html#graft"><span class="id" title="definition">graft</span></a> <span class="id" title="var">ctx</span> <a class="idref" href="CoqDSC.LambdaAL.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">@(</span></a> <span class="id" title="var">f</span><a class="idref" href="CoqDSC.LambdaAL.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">,</span></a> <span class="id" title="var">x</span><a class="idref" href="CoqDSC.LambdaAL.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">)</span></a>) <span class="id" title="var">u</span>) <span class="id" title="var">u</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">⇓</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_dvalue"><span class="id" title="definition">cts_dvalue</span></a> <span class="id" title="var">dv</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.ILambdaALValues.html#CacheValue"><span class="id" title="constructor">CacheValue</span></a> <span class="id" title="var">VC'</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">]]</span></a><br/>
          ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CoqDSC.Environment.html#bind"><span class="id" title="definition">Environment.bind</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Lists.List.html#app_comm_cons"><span class="id" title="lemma">app_comm_cons</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">nxdF</span>  := <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_value"><span class="id" title="definition">cts_value</span></a> <span class="id" title="var">vy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="CoqDSC.ILambdaALValues.html#CacheValue"><span class="id" title="constructor">CacheValue</span></a> <span class="id" title="var">VCy</span>)<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_dvalue"><span class="id" title="definition">cts_dvalue</span></a> <span class="id" title="var">dvy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">xdF</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">nxdF'</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_value"><span class="id" title="definition">cts_value</span></a> <span class="id" title="var">vy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">VCy'</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_dvalue"><span class="id" title="definition">cts_dvalue</span></a> <span class="id" title="var">dvy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">xdF'</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HVCu'</span>: <span class="id" title="var">VCu'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="CoqDSC.Misc.html#drop"><span class="id" title="definition">drop</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">nxdF</span>) <span class="id" title="var">VC</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">nxdF</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a>. <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.Misc.html#drop_cons"><span class="id" title="lemma">drop_cons</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HVCu'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">Hrec</span> <span class="id" title="var">n0</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">dEu</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">vy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">dvy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">dEu</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Eu'</span> := <span class="id" title="var">vy'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">Eu'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">xdF'</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_value"><span class="id" title="definition">cts_value</span></a> <span class="id" title="var">vy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">VCy'</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_dvalue"><span class="id" title="definition">cts_dvalue</span></a> <span class="id" title="var">dvy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">xdF'</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> * |- *; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#modified_environment_bind"><span class="id" title="lemma">LambdaALOperationalSemanticsProofs.modified_environment_bind</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#eval_context_ended_with_call"><span class="id" title="lemma">eval_context_ended_with_call</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#original_environment_app"><span class="id" title="lemma">original_environment_app</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#eval_context_ended_with_call"><span class="id" title="lemma">eval_context_ended_with_call</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.LambdaALDeriveProofs.html#derive_context_ended_with_call"><span class="id" title="lemma">derive_context_ended_with_call</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#extend_old_environment_with_call"><span class="id" title="lemma">extend_old_environment_with_call</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#extend_new_environment_with_call"><span class="id" title="lemma">extend_new_environment_with_call</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#move_cts_value"><span class="id" title="lemma">move_cts_value</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#inverse_call_evaluation"><span class="id" title="lemma">inverse_call_evaluation</span></a> <span class="id" title="var">Holdeval</span>). <span class="id" title="var">splitHyps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#eval_deterministic"><span class="id" title="lemma">eval_deterministic</span></a> <span class="id" title="var">H1</span> <span class="id" title="var">Hctsfx</span>). <span class="id" title="tactic">intro</span> <span class="id" title="var">He</span>. <span class="id" title="var">inject</span> <span class="id" title="var">He</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#modified_environment_bind"><span class="id" title="lemma">modified_environment_bind</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#move_cts_value"><span class="id" title="lemma">move_cts_value</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#inverse_call_evaluation"><span class="id" title="lemma">inverse_call_evaluation</span></a> <span class="id" title="var">Hneweval</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="var">splitHyps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#eval_deterministic"><span class="id" title="lemma">eval_deterministic</span></a> <span class="id" title="var">H1</span> <span class="id" title="var">Hctsfx'</span>). <span class="id" title="tactic">intro</span> <span class="id" title="var">He</span>. <span class="id" title="var">inject</span> <span class="id" title="var">He</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#TDPrimitiveNil"><span class="id" title="constructor">TDPrimitiveNil</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CoqDSC.ILambdaALValues.html#CacheValue"><span class="id" title="constructor">CacheValue</span></a> <span class="id" title="var">VCy</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">VCy0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inverse</span> <span class="id" title="var">Hctsfx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">inverse</span> <span class="id" title="var">H14</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H12</span>. <span class="id" title="var">inverse</span> <span class="id" title="var">H12</span>. <span class="id" title="var">inverse</span> <span class="id" title="var">H16</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inverse</span> <span class="id" title="var">H8</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H12</span> <span class="id" title="var">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Vx</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_value"><span class="id" title="definition">cts_value</span></a> <span class="id" title="var">vx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#lookup_original_environment"><span class="id" title="lemma">lookup_original_environment</span></a> <span class="id" title="var">Holdlookupx</span>). <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#lookup_value"><span class="id" title="definition">lookup_value</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H11</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hr</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H11</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H11</span>. <span class="id" title="var">inverse</span> <span class="id" title="var">H11</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">p0</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#lookup_original_environment"><span class="id" title="lemma">lookup_original_environment</span></a> <span class="id" title="var">Holdlookupf</span>). <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#lookup_value"><span class="id" title="definition">lookup_value</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hr</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>. <span class="id" title="var">inverse</span> <span class="id" title="var">H6</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hprim</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H13</span>. <span class="id" title="var">inverse</span> <span class="id" title="var">H13</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#lookup_value"><span class="id" title="definition">lookup_value</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#lookup_original_environment"><span class="id" title="lemma">lookup_original_environment</span></a> <span class="id" title="var">Holdlookupf</span>). <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">Hr</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hr</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>. <span class="id" title="var">inverse</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** </div>

<div class="doc">
f is a closure, df is a dclosure. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">Eu</span> <span class="id" title="tactic">in</span> * |- *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#original_environment_lookup"><span class="id" title="lemma">original_environment_lookup</span></a> (<span class="id" title="var">dEu</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">dE</span>) <span class="id" title="var">x</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">Hlookupvx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#original_environment_lookup"><span class="id" title="lemma">original_environment_lookup</span></a> (<span class="id" title="var">dEu</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">dE</span>) <span class="id" title="var">f</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">HlookupVf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#modified_environment_lookup"><span class="id" title="lemma">modified_environment_lookup</span></a> <span class="id" title="var">HEuE'</span> <span class="id" title="var">x</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hok</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hok</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">vx'</span> [ <span class="id" title="var">Hlookupvx'</span> <span class="id" title="var">Hmovex</span> ] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#modified_environment_lookup"><span class="id" title="lemma">modified_environment_lookup</span></a> <span class="id" title="var">HEuE'</span> <span class="id" title="var">f</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hok</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hok</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">Vf'</span> [ <span class="id" title="var">HlookupVf'</span> <span class="id" title="var">HmoveVf'</span> ] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#modified_binding"><span class="id" title="definition">modified_binding</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HmoveVf'</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HmoveVf'</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">vy0</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">vy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ErrorMonad.html#inv_success_mbind"><span class="id" title="lemma">inv_success_mbind</span></a> <span class="id" title="var">HmoveVf'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HmoveVf'</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HmoveVf'</span>. <span class="id" title="var">inverse</span> <span class="id" title="var">HmoveVf'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#move_closure_environment_move_environment"><span class="id" title="lemma">move_closure_environment_move_environment</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#denvironment_of_closure_denvironment"><span class="id" title="definition">denvironment_of_closure_denvironment</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#list_of_closure_denvironment_closure_denvironment_of_list"><span class="id" title="lemma">list_of_closure_denvironment_closure_denvironment_of_list</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#sound_eval"><span class="id" title="lemma">sound_eval</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">v</span> := <span class="id" title="var">vy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#closure_call_inversion"><span class="id" title="lemma">closure_call_inversion</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#deterministic_eval"><span class="id" title="lemma">deterministic_eval</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H9</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">dF'</span> <span class="id" title="tactic">in</span> * |- *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#extension_lookup_cts_denvironment"><span class="id" title="lemma">extension_lookup_cts_denvironment</span></a> <span class="id" title="var">Holdextend</span> <span class="id" title="var">H3</span>) <span class="id" title="keyword">as</span> [ <span class="id" title="var">oldVCf</span> <span class="id" title="var">Holdlookupf</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#extension_lookup_cts_denvironment"><span class="id" title="lemma">extension_lookup_cts_denvironment</span></a> <span class="id" title="var">Holdextend</span> <span class="id" title="var">H4</span>) <span class="id" title="keyword">as</span> [ <span class="id" title="var">oldVCx</span> <span class="id" title="var">Holdlookupx</span> ].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#extension_lookup_cts_denvironment"><span class="id" title="lemma">extension_lookup_cts_denvironment</span></a> <span class="id" title="var">Hnewextend</span> <span class="id" title="var">H3</span>) <span class="id" title="keyword">as</span> [ <span class="id" title="var">VCf</span> <span class="id" title="var">Hlookupf</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#extension_lookup_cts_denvironment"><span class="id" title="lemma">extension_lookup_cts_denvironment</span></a> <span class="id" title="var">Hnewextend</span> <span class="id" title="var">H4</span>) <span class="id" title="keyword">as</span> [ <span class="id" title="var">VCx</span> <span class="id" title="var">Hlookupx</span> ].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#9896d80982198b9a6b161fbd8b69b895"><span class="id" title="notation">[[</span></a> <span class="id" title="var">dEu</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">dE</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#9896d80982198b9a6b161fbd8b69b895"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CoqDSC.LambdaALDerive.html#derive"><span class="id" title="definition">derive</span></a> (<a class="idref" href="CoqDSC.LambdaAL.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">@(</span></a><span class="id" title="var">f</span><a class="idref" href="CoqDSC.LambdaAL.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">,</span></a> <span class="id" title="var">x</span><a class="idref" href="CoqDSC.LambdaAL.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">)</span></a>) <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#9896d80982198b9a6b161fbd8b69b895"><span class="id" title="notation">⇓</span></a> <span class="id" title="var">dvy</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#9896d80982198b9a6b161fbd8b69b895"><span class="id" title="notation">]]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#SDefClosure"><span class="id" title="constructor">SDefClosure</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#NoSteps"><span class="id" title="constructor">NoSteps</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#complete_eval"><span class="id" title="lemma">complete_eval</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#erase_steps_evaluation"><span class="id" title="lemma">erase_steps_evaluation</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hmovevy</span> : <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#move"><span class="id" title="definition">LambdaALOperationalSemantics.move</span></a> <span class="id" title="var">vy</span> <span class="id" title="var">dvy</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">vy'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="CoqDSC.LambdaALDeriveProofs.html#derive_soundness2"><span class="id" title="lemma">derive_soundness2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Hfx</span> <span class="id" title="var">Hfx'</span> <span class="id" title="var">H0</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HdEF'</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">exists</span></a> <span class="id" title="var">E'</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#f1d0c93cf3a4c2546abcd77134ca0628"><span class="id" title="notation">⌈</span></a> <span class="id" title="var">dEf</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#f1d0c93cf3a4c2546abcd77134ca0628"><span class="id" title="notation">⌉</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#E'"><span class="id" title="variable">E'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ErrorMonad.html#inv_success_mbind"><span class="id" title="lemma">inv_success_mbind</span></a> <span class="id" title="var">HmoveVf'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#move_original_closure_environment"><span class="id" title="lemma">move_original_closure_environment</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>). <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HdEF'</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">E''</span> <span class="id" title="var">HE''</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#cts_denvironment_modified_environment2"><span class="id" title="lemma">cts_denvironment_modified_environment2</span></a> <span class="id" title="var">HE''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HFf</span>.<br/>

<br/>
</div>

<div class="doc">

<div class="paragraph"> </div>

            By induction, we show that the remaining term of the derivative
            indeed produces a valid change and a valid cache.

<div class="paragraph"> </div>

         
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hdnext</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">[[#</span></a><span class="id" title="var">VCu'</span><a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.Environment.html#bind"><span class="id" title="definition">Environment.bind</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">xdF'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_denvironment"><span class="id" title="definition">cts_denvironment</span></a> <span class="id" title="var">dE</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_value"><span class="id" title="definition">cts_value</span></a> <span class="id" title="var">vy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">VCy'</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_dvalue"><span class="id" title="definition">cts_dvalue</span></a> <span class="id" title="var">dvy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_derive_term"><span class="id" title="definition">cts_derive_term</span></a> (<a class="idref" href="CoqDSC.LambdaAL.html#graft"><span class="id" title="definition">graft</span></a> (<a class="idref" href="CoqDSC.LambdaAL.html#graft"><span class="id" title="definition">graft</span></a> <span class="id" title="var">ctx</span> <a class="idref" href="CoqDSC.LambdaAL.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">@(</span></a> <span class="id" title="var">f</span><a class="idref" href="CoqDSC.LambdaAL.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">,</span></a> <span class="id" title="var">x</span><a class="idref" href="CoqDSC.LambdaAL.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">)</span></a>) <span class="id" title="var">u</span>) <span class="id" title="var">u</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">⇓</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_dvalue"><span class="id" title="definition">cts_dvalue</span></a> <span class="id" title="var">dv</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.ILambdaALValues.html#CacheValue"><span class="id" title="constructor">CacheValue</span></a> <span class="id" title="var">VC'</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">]]</span></a><br/>
          ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CoqDSC.Environment.html#bind"><span class="id" title="definition">Environment.bind</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Lists.List.html#app_comm_cons"><span class="id" title="lemma">app_comm_cons</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">nxdF</span>  := <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_value"><span class="id" title="definition">cts_value</span></a> <span class="id" title="var">vy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="CoqDSC.ILambdaALValues.html#CacheValue"><span class="id" title="constructor">CacheValue</span></a> <span class="id" title="var">VCy</span>)<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_dvalue"><span class="id" title="definition">cts_dvalue</span></a> <span class="id" title="var">dvy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">xdF</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">nxdF'</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_value"><span class="id" title="definition">cts_value</span></a> <span class="id" title="var">vy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">VCy'</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_dvalue"><span class="id" title="definition">cts_dvalue</span></a> <span class="id" title="var">dvy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">xdF'</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HVCu'</span>: <span class="id" title="var">VCu'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="CoqDSC.Misc.html#drop"><span class="id" title="definition">drop</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">nxdF</span>) <span class="id" title="var">VC</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">nxdF</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a>. <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.Misc.html#drop_cons"><span class="id" title="lemma">drop_cons</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HVCu'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">Hrec</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">dEu</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">vy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">dvy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">dEu</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Eu'</span> := <span class="id" title="var">vy'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">Eu'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">xdF'</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_value"><span class="id" title="definition">cts_value</span></a> <span class="id" title="var">vy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">VCy'</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_dvalue"><span class="id" title="definition">cts_dvalue</span></a> <span class="id" title="var">dvy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">xdF'</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> * |- *; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#modified_environment_bind"><span class="id" title="lemma">LambdaALOperationalSemanticsProofs.modified_environment_bind</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#eval_context_ended_with_call"><span class="id" title="lemma">eval_context_ended_with_call</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#original_environment_app"><span class="id" title="lemma">original_environment_app</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#eval_context_ended_with_call"><span class="id" title="lemma">eval_context_ended_with_call</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.LambdaALDeriveProofs.html#derive_context_ended_with_call"><span class="id" title="lemma">derive_context_ended_with_call</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#extend_old_environment_with_call"><span class="id" title="lemma">extend_old_environment_with_call</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#extend_new_environment_with_call"><span class="id" title="lemma">extend_new_environment_with_call</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#move_cts_value"><span class="id" title="lemma">move_cts_value</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#inverse_call_evaluation"><span class="id" title="lemma">inverse_call_evaluation</span></a> <span class="id" title="var">Holdeval</span>). <span class="id" title="var">splitHyps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#eval_deterministic"><span class="id" title="lemma">eval_deterministic</span></a> <span class="id" title="var">H1</span> <span class="id" title="var">Hctsfx</span>). <span class="id" title="tactic">intro</span> <span class="id" title="var">He</span>. <span class="id" title="var">inject</span> <span class="id" title="var">He</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#modified_environment_bind"><span class="id" title="lemma">modified_environment_bind</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#move_cts_value"><span class="id" title="lemma">move_cts_value</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#inverse_call_evaluation"><span class="id" title="lemma">inverse_call_evaluation</span></a> <span class="id" title="var">Hneweval</span>). <span class="id" title="var">splitHyps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#eval_deterministic"><span class="id" title="lemma">eval_deterministic</span></a> <span class="id" title="var">H1</span> <span class="id" title="var">Hctsfx'</span>). <span class="id" title="tactic">intro</span> <span class="id" title="var">He</span>. <span class="id" title="var">inject</span> <span class="id" title="var">He</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#TDClosureChange"><span class="id" title="constructor">TDClosureChange</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_dterm"><span class="id" title="definition">cts_dterm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="CoqDSC.LambdaALDerive.html#derive_underive"><span class="id" title="lemma">derive_underive</span></a> <span class="id" title="var">dtf</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H11</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hn0</span> : <span class="id" title="var">n0</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Peano.html#989c98e7ddd65d5bf37c334ff2076de8"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> <span class="id" title="var">n0</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> <span class="id" title="var">m</span>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">VCy'</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">VCy'</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#cts_closure_denvironment_cts_denvironment"><span class="id" title="lemma">cts_closure_denvironment_cts_denvironment</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HequivEnv</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.Environment.html#bind"><span class="id" title="definition">Environment.bind</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_denvironment"><span class="id" title="definition">cts_denvironment</span></a> <span class="id" title="var">dEf</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_value"><span class="id" title="definition">cts_value</span></a> <span class="id" title="var">vx</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_dvalue"><span class="id" title="definition">cts_dvalue</span></a> <span class="id" title="var">dvx</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_denvironment"><span class="id" title="definition">cts_denvironment</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">vx</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">dvx</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">dEf</span>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HequivEnv</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">HVCy</span> : <span class="id" title="var">VCy</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="CoqDSC.Misc.html#drop"><span class="id" title="definition">drop</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> (<a class="idref" href="CoqDSC.ILambdaALValues.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CoqDSC.ILambdaALValues.html#cache_value"><span class="id" title="inductive">cache_value</span></a>))) <span class="id" title="var">VCy</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HVCy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_derive"><span class="id" title="definition">cts_derive</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hrelenvf</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.LambdaALEnvValidity.html#rel_env"><span class="id" title="definition">rel_env</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#2c0a5a7a3edbd2d036ce52734d0e9f72"><span class="id" title="notation">⌊</span></a> <span class="id" title="var">dEf</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#2c0a5a7a3edbd2d036ce52734d0e9f72"><span class="id" title="notation">⌋</span></a> <span class="id" title="var">dEf</span> <span class="id" title="var">E''</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">k'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.LambdaALValidity.html#drel_env_lookup2"><span class="id" title="lemma">drel_env_lookup2</span></a> (<span class="id" title="var">HrelenvEu</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k'</span>)) <span class="id" title="var">HlookupVf</span> <span class="id" title="var">HlookupVf'</span> <span class="id" title="var">H3</span>). <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HrelVf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CoqDSC.LambdaALValidity.html#unfold_drel_value"><span class="id" title="lemma">unfold_drel_value</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HrelVf</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HrelVf</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Vf'</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HSk</span> : <span class="id" title="var">k'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Peano.html#989c98e7ddd65d5bf37c334ff2076de8"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k'</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">HrelVf</span> <span class="id" title="var">_</span> <span class="id" title="var">HSk</span>). <span class="id" title="var">splitHyps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#list_of_values_of_values_of_list"><span class="id" title="lemma">list_of_values_of_values_of_list</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#list_of_closure_denvironment_closure_denvironment_of_list"><span class="id" title="lemma">list_of_closure_denvironment_closure_denvironment_of_list</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">E''</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="CoqDSC.LambdaALValues.html#list_of_values"><span class="id" title="definition">LambdaALValues.list_of_values</span></a> <span class="id" title="var">v0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#move_original_closure_environment"><span class="id" title="lemma">move_original_closure_environment</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span>). <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#list_of_values_of_values_of_list"><span class="id" title="lemma">list_of_values_of_values_of_list</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#denvironment_of_closure_denvironment"><span class="id" title="definition">denvironment_of_closure_denvironment</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#list_of_closure_denvironment_closure_denvironment_of_list"><span class="id" title="lemma">list_of_closure_denvironment_closure_denvironment_of_list</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hrelxvx</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.LambdaALEnvValidity.html#rel_value"><span class="id" title="definition">rel_value</span></a> <span class="id" title="var">vx</span> <span class="id" title="var">dvx</span> <span class="id" title="var">vx'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">k'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="CoqDSC.LambdaALValidity.html#drel_env_lookup2"><span class="id" title="lemma">drel_env_lookup2</span></a> (<span class="id" title="var">HrelenvEu</span> <span class="id" title="var">k'</span>)); <span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">Eu</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#original_environment_app"><span class="id" title="lemma">original_environment_app</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hrelenvf'</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.LambdaALEnvValidity.html#rel_env"><span class="id" title="definition">rel_env</span></a> (<span class="id" title="var">vx</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#2c0a5a7a3edbd2d036ce52734d0e9f72"><span class="id" title="notation">⌊</span></a> <span class="id" title="var">dEf</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#2c0a5a7a3edbd2d036ce52734d0e9f72"><span class="id" title="notation">⌋</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">vx</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">dvx</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">dEf</span>) (<span class="id" title="var">vx'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">E''</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.LambdaALFundamentalProperty.html#drel_env_bind_rel_value"><span class="id" title="lemma">drel_env_bind_rel_value</span></a>; <span class="id" title="tactic">eauto</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hevalvy'</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#1cdbb28de46816ab21e16a69859bc55a"><span class="id" title="notation">[</span></a><span class="id" title="var">vx'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">E''</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#1cdbb28de46816ab21e16a69859bc55a"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CoqDSC.LambdaALDerive.html#underive"><span class="id" title="definition">underive</span></a> <span class="id" title="var">dtf</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#1cdbb28de46816ab21e16a69859bc55a"><span class="id" title="notation">⇓</span></a> <span class="id" title="var">vy'</span><a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#1cdbb28de46816ab21e16a69859bc55a"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#modified_environment_lookup"><span class="id" title="lemma">modified_environment_lookup</span></a> <span class="id" title="var">HEuE'</span> <span class="id" title="var">f</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hok</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hok</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simpl_inv_mbind_some</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#move_original_closure_environment"><span class="id" title="lemma">move_original_closure_environment</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Ha</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hok</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HE''</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hok</span>. <span class="id" title="var">inverse</span> <span class="id" title="var">Hok</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hok</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#closure_call_inversion"><span class="id" title="lemma">closure_call_inversion</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#values_of_list_of_list_of_values"><span class="id" title="lemma">values_of_list_of_list_of_values</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">Hrec</span> <span class="id" title="var">n0</span> <span class="id" title="var">Hn0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">dEu</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>) (<span class="id" title="var">Eu'</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">xdF'</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>) (<span class="id" title="var">xdF</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>) (<span class="id" title="var">ctx</span> := <a class="idref" href="CoqDSC.LambdaAL.html#Var"><span class="id" title="constructor">Var</span></a> (<a class="idref" href="CoqDSC.Index.html#Idx"><span class="id" title="constructor">Idx</span></a> 0)) (<span class="id" title="var">v</span> := <span class="id" title="var">vy</span>) (<span class="id" title="var">v'</span> := <span class="id" title="var">vy'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">t0</span> := <a class="idref" href="CoqDSC.LambdaALDerive.html#underive"><span class="id" title="definition">underive</span></a> <span class="id" title="var">dtf</span>) (<span class="id" title="var">u</span> := <a class="idref" href="CoqDSC.LambdaALDerive.html#underive"><span class="id" title="definition">underive</span></a> <span class="id" title="var">dtf</span>) (<span class="id" title="var">E</span> := <span class="id" title="var">vx</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#2c0a5a7a3edbd2d036ce52734d0e9f72"><span class="id" title="notation">⌊</span></a> <span class="id" title="var">dEf</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#2c0a5a7a3edbd2d036ce52734d0e9f72"><span class="id" title="notation">⌋</span></a>) (<span class="id" title="var">E'</span> := <span class="id" title="var">vx'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">E''</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> * |- *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> (<span class="id" title="var">Hrelenvf</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#complete_eval"><span class="id" title="lemma">complete_eval</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;I&nbsp;expect&nbsp;the&nbsp;statement&nbsp;of&nbsp;Hbuggy1&nbsp;and&nbsp;Hbuggy2&nbsp;to&nbsp;change&nbsp;once&nbsp;I&nbsp;fix<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;an&nbsp;efficiency&nbsp;bug&nbsp;in&nbsp;TDClosureChange.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;assert&nbsp;(&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;Hbuggy1:&nbsp;<span class="inlinecode">#(<span class="id" title="var">cts_value</span></span> <span class="inlinecode"><span class="id" title="var">vx</span>,</span> <span class="inlinecode"><span class="id" title="var">None</span>)</span> <span class="inlinecode">::</span> <span class="inlinecode">⌊#</span> <span class="inlinecode"><span class="id" title="var">cts_denvironment</span></span> <span class="inlinecode"><span class="id" title="var">dEf</span></span> <span class="inlinecode">⌋</span> <span class="inlinecode"></span>*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⊢&nbsp;cts_term_aux&nbsp;(underive&nbsp;dtf)&nbsp;(underive&nbsp;dtf)&nbsp;⇓&nbsp;(cts_value&nbsp;vy,&nbsp;CacheValue&nbsp;VCy)]&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;).&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HlookupVf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#list_of_closure_environment_of_closure_environment_of_list"><span class="id" title="lemma">list_of_closure_environment_of_closure_environment_of_list</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#c0bae215165134e8b45be99455570b9f"><span class="id" title="notation">⌊#</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_denvironment"><span class="id" title="definition">cts_denvironment</span></a> <span class="id" title="var">dEf</span> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#c0bae215165134e8b45be99455570b9f"><span class="id" title="notation">⌋</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> (<a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#inverse_closure_call_evaluation"><span class="id" title="lemma">inverse_closure_call_evaluation</span></a> <span class="id" title="var">Hctsfx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#lookup_value"><span class="id" title="definition">lookup_value</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#lookup_original_environment"><span class="id" title="lemma">lookup_original_environment</span></a> <span class="id" title="var">Holdlookupf</span>). <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CoqDSC.ErrorMonad.html#ret"><span class="id" title="definition">ret</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#cts_values_cts_denvironment"><span class="id" title="lemma">cts_values_cts_denvironment</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#lookup_value"><span class="id" title="definition">lookup_value</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#lookup_original_environment"><span class="id" title="lemma">lookup_original_environment</span></a> <span class="id" title="var">Holdlookupx</span>). <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CoqDSC.ErrorMonad.html#ret"><span class="id" title="definition">ret</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#original_cts_denvironment_has_no_cache"><span class="id" title="lemma">original_cts_denvironment_has_no_cache</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#modified_environment_bind"><span class="id" title="lemma">modified_environment_bind</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#move_cts_value"><span class="id" title="lemma">move_cts_value</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#list_of_closure_environment_of_closure_environment_of_list"><span class="id" title="lemma">list_of_closure_environment_of_closure_environment_of_list</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_environment"><span class="id" title="definition">cts_environment</span></a> <span class="id" title="var">E''</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> (<a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#inverse_closure_call_evaluation"><span class="id" title="lemma">inverse_closure_call_evaluation</span></a> <span class="id" title="var">Hctsfx'</span>); <span class="id" title="tactic">unfold</span> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#lookup_value"><span class="id" title="definition">lookup_value</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#lookup_modified_environment"><span class="id" title="lemma">lookup_modified_environment</span></a> <span class="id" title="var">HF'</span> <span class="id" title="var">Hlookupf</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">splitHyps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#modified_binding"><span class="id" title="definition">modified_binding</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simpl_inv_mbind_some</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simpl_inv_mbind_some</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#cts_values_cts_denvironment"><span class="id" title="lemma">cts_values_cts_denvironment</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#move_closure_environment_cts_denvironment"><span class="id" title="lemma">move_closure_environment_cts_denvironment</span></a> (<span class="id" title="var">E''</span> := <span class="id" title="var">E''</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Ha0</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#lookup_modified_environment"><span class="id" title="lemma">lookup_modified_environment</span></a> <span class="id" title="var">HF'</span> <span class="id" title="var">Hlookupx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">splitHyps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#modified_binding"><span class="id" title="definition">modified_binding</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#move_cts_value"><span class="id" title="lemma">move_cts_value</span></a> <span class="id" title="var">Hmovex</span>) <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simpl_inv_mbind_some</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#cts_environment_has_no_cache"><span class="id" title="lemma">cts_environment_has_no_cache</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;* </div>

<div class="doc">
Case "let y = xs in u" 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inverse</span> <span class="id" title="var">Hdeval</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">vy</span> := <a class="idref" href="CoqDSC.LambdaALValues.html#tuple"><span class="id" title="definition">LambdaALValues.tuple</span></a> <span class="id" title="var">vs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">dvy</span> := <a class="idref" href="CoqDSC.LambdaALValues.html#dtuple"><span class="id" title="definition">LambdaALValues.dtuple</span></a> <span class="id" title="var">dvs</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#cts_denvironment_lookups"><span class="id" title="lemma">cts_denvironment_lookups</span></a> <span class="id" title="var">H3</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#cts_denvironment_app"><span class="id" title="lemma">cts_denvironment_app</span></a>. <span class="id" title="tactic">intro</span> <span class="id" title="var">Hll</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#extended_with_caches_lookups"><span class="id" title="lemma">extended_with_caches_lookups</span></a> <span class="id" title="var">Holdextend</span> <span class="id" title="var">Hll</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [ <span class="id" title="var">Bs</span> [ <span class="id" title="var">Holdlookups</span> [ <span class="id" title="var">HoldlookupsEq1</span> <span class="id" title="var">HoldlookupsEq2</span> ] ] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#extended_with_caches_lookups"><span class="id" title="lemma">extended_with_caches_lookups</span></a> <span class="id" title="var">Hnewextend</span> <span class="id" title="var">Hll</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [ <span class="id" title="var">Bs'</span> [ <span class="id" title="var">Hnewlookups</span> [ <span class="id" title="var">HnewlookupsEq1</span> <span class="id" title="var">HnewlookupsEq2</span> ] ] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hll</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">xs0</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">xs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.Misc.html#reverse_map"><span class="id" title="lemma">reverse_map</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inverse</span> <span class="id" title="var">Holdeval</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Vs</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_values"><span class="id" title="definition">cts_values</span></a> (<a class="idref" href="CoqDSC.LambdaALValues.html#values_of_list"><span class="id" title="definition">LambdaALValues.values_of_list</span></a> <span class="id" title="var">vs</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">dF</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#lookup_values_original_environment"><span class="id" title="lemma">lookup_values_original_environment</span></a> <span class="id" title="var">Holdlookups</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inverse</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">vs</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#cts_values_cts_dbinding"><span class="id" title="lemma">cts_values_cts_dbinding</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HoldlookupsEq1</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HVCu</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">exists</span></a> <span class="id" title="var">VCu'</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <span class="id" title="var">VCu</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_value"><span class="id" title="definition">cts_value</span></a> (<a class="idref" href="CoqDSC.LambdaALValues.html#tuple"><span class="id" title="definition">LambdaALValues.tuple</span></a> <span class="id" title="var">vs</span>)<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#VCu'"><span class="id" title="variable">VCu'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">VCu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">exists</span></a> <span class="id" title="var">preVC</span> <span class="id" title="var">postVC</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">VC</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#preVC"><span class="id" title="variable">preVC</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_value"><span class="id" title="definition">cts_value</span></a> <span class="id" title="var">vy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#postVC"><span class="id" title="variable">postVC</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#preVC"><span class="id" title="variable">preVC</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#depth_of_term"><span class="id" title="definition">depth_of_term</span></a> <span class="id" title="var">ctx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">dF</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#tuple_result_in_cache"><span class="id" title="lemma">tuple_result_in_cache</span></a> (<span class="id" title="var">u</span> := <span class="id" title="var">u</span>) (<span class="id" title="var">xs</span> := <span class="id" title="var">xs</span>)); <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#graft_tuple"><span class="id" title="lemma">graft_tuple</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">preVC</span> [ <span class="id" title="var">postVC</span> <span class="id" title="var">HVC</span> ] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">splitHyps</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">postVC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hl</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">xdF</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#depth_of_term"><span class="id" title="definition">depth_of_term</span></a> <span class="id" title="var">ctx</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#extension_length_is_depth_of_context"><span class="id" title="lemma">extension_length_is_depth_of_context</span></a>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CoqDSC.Misc.html#drop_app"><span class="id" title="lemma">drop_app</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HVCu</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">VCu'</span> <span class="id" title="var">HVCu</span> ]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HVCu</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">nxdF</span>  := <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_value"><span class="id" title="definition">cts_value</span></a> <span class="id" title="var">vy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_dvalue"><span class="id" title="definition">cts_dvalue</span></a> <span class="id" title="var">dvy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">xdF</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HVCu'</span>: <span class="id" title="var">VCu'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="CoqDSC.Misc.html#drop"><span class="id" title="definition">drop</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">nxdF</span>) <span class="id" title="var">VC</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">nxdF</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a>. <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.Misc.html#drop_cons"><span class="id" title="lemma">drop_cons</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inverse</span> <span class="id" title="var">Hevalu'</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hmove</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#move"><span class="id" title="definition">LambdaALOperationalSemantics.move</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CoqDSC.LambdaALValues.html#tuple"><span class="id" title="definition">LambdaALValues.tuple</span></a> <span class="id" title="var">vs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CoqDSC.LambdaALValues.html#dtuple"><span class="id" title="definition">LambdaALValues.dtuple</span></a> <span class="id" title="var">dvs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="CoqDSC.LambdaALValues.html#tuple"><span class="id" title="definition">LambdaALValues.tuple</span></a> <span class="id" title="var">vs0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#modified_environment_lookups"><span class="id" title="lemma">modified_environment_lookups</span></a> <span class="id" title="var">xs</span> <span class="id" title="var">HEuE'</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hll</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hll</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">vs00</span> [ <span class="id" title="var">Hvs00</span> <span class="id" title="var">Hlm</span> ] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">vs</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">dvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#move_tuple"><span class="id" title="lemma">move_tuple</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hlm</span>). <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#move_cts_value"><span class="id" title="lemma">move_cts_value</span></a> <span class="id" title="var">Hmove</span>). <span class="id" title="tactic">intro</span> <span class="id" title="var">Hmovects</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">[[#</span></a><a class="idref" href="CoqDSC.Misc.html#drop"><span class="id" title="definition">drop</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">nxdF</span>) <span class="id" title="var">VC</span><a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.Environment.html#bind"><span class="id" title="definition">Environment.bind</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">dF'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALValues.html#ITuple"><span class="id" title="constructor">ITuple</span></a> (<a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_values"><span class="id" title="definition">cts_values</span></a> (<a class="idref" href="CoqDSC.LambdaALValues.html#values_of_list"><span class="id" title="definition">LambdaALValues.values_of_list</span></a> <span class="id" title="var">vs</span>))<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.ILambdaALValues.html#dITuple"><span class="id" title="constructor">dITuple</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="var">Bs'</span>)<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_derive_term"><span class="id" title="definition">cts_derive_term</span></a> (<a class="idref" href="CoqDSC.LambdaAL.html#graft"><span class="id" title="definition">graft</span></a> <span class="id" title="var">ctx</span> (<a class="idref" href="CoqDSC.LambdaAL.html#DefTuple"><span class="id" title="constructor">DefTuple</span></a> <span class="id" title="var">xs</span> <span class="id" title="var">u</span>)) <span class="id" title="var">u</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">⇓</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_dvalue"><span class="id" title="definition">cts_dvalue</span></a> <span class="id" title="var">dv</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.ILambdaALValues.html#CacheValue"><span class="id" title="constructor">CacheValue</span></a> <span class="id" title="var">VC'</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">]]</span></a><br/>
      ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">Hrec</span> <span class="id" title="var">n0</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">dEu</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">vy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">dvy</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">dEu</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Eu'</span> := (<a class="idref" href="CoqDSC.LambdaALValues.html#tuple"><span class="id" title="definition">LambdaALValues.tuple</span></a> <span class="id" title="var">vs0</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">Eu'</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">xdF'</span> := <a class="idref" href="CoqDSC.Environment.html#bind"><span class="id" title="definition">Environment.bind</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">xdF'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALValues.html#ITuple"><span class="id" title="constructor">ITuple</span></a> (<a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_values"><span class="id" title="definition">cts_values</span></a> (<a class="idref" href="CoqDSC.LambdaALValues.html#values_of_list"><span class="id" title="definition">LambdaALValues.values_of_list</span></a> <span class="id" title="var">vs</span>))<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.ILambdaALValues.html#dITuple"><span class="id" title="constructor">dITuple</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="var">Bs'</span>)<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> * |- *; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#modified_environment_bind"><span class="id" title="lemma">LambdaALOperationalSemanticsProofs.modified_environment_bind</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#graft_tuple"><span class="id" title="lemma">graft_tuple</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#eval_context_ended_with_tuple"><span class="id" title="lemma">eval_context_ended_with_tuple</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#original_environment_app"><span class="id" title="lemma">original_environment_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#original_environment_lookups"><span class="id" title="lemma">original_environment_lookups</span></a> (<span class="id" title="var">dEu</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">dE</span>) <span class="id" title="var">xs</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">inverse</span> <span class="id" title="var">Hevalu</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">vs1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">vs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#original_environment_lookups"><span class="id" title="lemma">original_environment_lookups</span></a> (<span class="id" title="var">dEu</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">dE</span>) <span class="id" title="var">xs</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#original_environment_app"><span class="id" title="lemma">original_environment_app</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">vs</span>. <span class="id" title="tactic">congruence</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#eval_context_ended_with_tuple"><span class="id" title="lemma">eval_context_ended_with_tuple</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.LambdaALDeriveProofs.html#derive_context_ended_with_tuple"><span class="id" title="lemma">derive_context_ended_with_tuple</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#post_extend_old_with_tuple"><span class="id" title="lemma">post_extend_old_with_tuple</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_dvalues"><span class="id" title="definition">cts_dvalues</span></a> (<a class="idref" href="CoqDSC.LambdaALValues.html#ldvalues_of_list"><span class="id" title="definition">LambdaALValues.ldvalues_of_list</span></a> <span class="id" title="var">dvs</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="var">Bs'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">dvs</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#cts_dvalues_cts_dbinding_2"><span class="id" title="lemma">cts_dvalues_cts_dbinding_2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALExtensionWithCaches.html#post_extend_new_with_tuple"><span class="id" title="lemma">post_extend_new_with_tuple</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#modified_environment_bind"><span class="id" title="lemma">modified_environment_bind</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HnewlookupsEq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#cts_dvalues_cts_dbinding_2"><span class="id" title="lemma">cts_dvalues_cts_dbinding_2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">inverse</span> <span class="id" title="var">Hneweval</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Vs</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_values"><span class="id" title="definition">cts_values</span></a> (<a class="idref" href="CoqDSC.LambdaALValues.html#values_of_list"><span class="id" title="definition">LambdaALValues.values_of_list</span></a> <span class="id" title="var">vs0</span>)<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="CoqDSC.ILambdaALOperationalSemanticsProofs.html#lookup_values_modified_environment"><span class="id" title="lemma">lookup_values_modified_environment</span></a> <span class="id" title="var">HF'</span> <span class="id" title="var">Hnewlookups</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">vs</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmovects</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#cts_values_cts_dbinding"><span class="id" title="lemma">cts_values_cts_dbinding</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmovects</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HnewlookupsEq1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HnewlookupsEq2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">dvs</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmovects</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#cts_dvalues_cts_dbinding_2"><span class="id" title="lemma">cts_dvalues_cts_dbinding_2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmovects</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H8</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmovects</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmovects</span>. <span class="id" title="var">inverse</span> <span class="id" title="var">Hmovects</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#TDTuple"><span class="id" title="constructor">TDTuple</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">vs</span>. <span class="id" title="tactic">fold</span> (<a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_values"><span class="id" title="definition">cts_values</span></a> (<a class="idref" href="CoqDSC.LambdaALValues.html#values_of_list"><span class="id" title="definition">LambdaALValues.values_of_list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">bs</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#cts_values_cts_dbinding"><span class="id" title="lemma">cts_values_cts_dbinding</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HnewlookupsEq1</span>. <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> (<span class="id" title="tactic">exact</span> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="cts_derive_cts_dvalue"><span class="id" title="lemma">cts_derive_cts_dvalue</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">n</span> <span class="id" title="var">E</span> <span class="id" title="var">dE</span> <span class="id" title="var">E'</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">v'</span> <span class="id" title="var">dv</span> <span class="id" title="var">VC</span> <span class="id" title="var">VC'</span> <span class="id" title="var">F'</span>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.LambdaALEnvValidity.html#rel_env"><span class="id" title="definition">rel_env</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dE"><span class="id" title="variable">dE</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#E'"><span class="id" title="variable">E'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#1cdbb28de46816ab21e16a69859bc55a"><span class="id" title="notation">[</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#1cdbb28de46816ab21e16a69859bc55a"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#1cdbb28de46816ab21e16a69859bc55a"><span class="id" title="notation">⇓</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#1cdbb28de46816ab21e16a69859bc55a"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#1cdbb28de46816ab21e16a69859bc55a"><span class="id" title="notation">[</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#E'"><span class="id" title="variable">E'</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#1cdbb28de46816ab21e16a69859bc55a"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#1cdbb28de46816ab21e16a69859bc55a"><span class="id" title="notation">⇓</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#v'"><span class="id" title="variable">v'</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#1cdbb28de46816ab21e16a69859bc55a"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#5296a2e187cde279670076fa8dae463d"><span class="id" title="notation">[[</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dE"><span class="id" title="variable">dE</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#5296a2e187cde279670076fa8dae463d"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CoqDSC.LambdaALDerive.html#derive"><span class="id" title="definition">derive</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#5296a2e187cde279670076fa8dae463d"><span class="id" title="notation">⇓</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dv"><span class="id" title="variable">dv</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#5296a2e187cde279670076fa8dae463d"><span class="id" title="notation">@</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#5296a2e187cde279670076fa8dae463d"><span class="id" title="notation">]]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#move"><span class="id" title="definition">LambdaALOperationalSemantics.move</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dv"><span class="id" title="variable">dv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#v'"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#c4fd2cc8ca41bd987e24ec2bbce4bde0"><span class="id" title="notation">[#</span></a> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#c0bae215165134e8b45be99455570b9f"><span class="id" title="notation">⌊#</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_denvironment"><span class="id" title="definition">cts_denvironment</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dE"><span class="id" title="variable">dE</span></a> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#c0bae215165134e8b45be99455570b9f"><span class="id" title="notation">⌋</span></a>  <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#c4fd2cc8ca41bd987e24ec2bbce4bde0"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_term_aux"><span class="id" title="definition">cts_term_aux</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#c4fd2cc8ca41bd987e24ec2bbce4bde0"><span class="id" title="notation">⇓</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_value"><span class="id" title="definition">cts_value</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.ILambdaALValues.html#CacheValue"><span class="id" title="constructor">CacheValue</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#VC"><span class="id" title="variable">VC</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#c4fd2cc8ca41bd987e24ec2bbce4bde0"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#19fd3d96a032a1abc5e9412813973d23"><span class="id" title="notation">⌈#</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_denvironment"><span class="id" title="definition">cts_denvironment</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dE"><span class="id" title="variable">dE</span></a> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#19fd3d96a032a1abc5e9412813973d23"><span class="id" title="notation">⌉</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#F'"><span class="id" title="variable">F'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#c4fd2cc8ca41bd987e24ec2bbce4bde0"><span class="id" title="notation">[#</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#F'"><span class="id" title="variable">F'</span></a> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#c4fd2cc8ca41bd987e24ec2bbce4bde0"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_term_aux"><span class="id" title="definition">cts_term_aux</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#c4fd2cc8ca41bd987e24ec2bbce4bde0"><span class="id" title="notation">⇓</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_value"><span class="id" title="definition">cts_value</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#v'"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.ILambdaALValues.html#CacheValue"><span class="id" title="constructor">CacheValue</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#VC'"><span class="id" title="variable">VC'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#c4fd2cc8ca41bd987e24ec2bbce4bde0"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">[[#</span></a><a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#VC"><span class="id" title="variable">VC</span></a><a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_denvironment"><span class="id" title="definition">cts_denvironment</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dE"><span class="id" title="variable">dE</span></a> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_derive_term"><span class="id" title="definition">cts_derive_term</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">⇓</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_dvalue"><span class="id" title="definition">cts_dvalue</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dv"><span class="id" title="variable">dv</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.ILambdaALValues.html#CacheValue"><span class="id" title="constructor">CacheValue</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#VC'"><span class="id" title="variable">VC'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">]]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">VC</span> <span class="id" title="keyword">with</span> (<a class="idref" href="CoqDSC.Misc.html#drop"><span class="id" title="definition">drop</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> (<a class="idref" href="CoqDSC.ILambdaALValues.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CoqDSC.ILambdaALValues.html#cache_value"><span class="id" title="inductive">cache_value</span></a>))) <span class="id" title="var">VC</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#cts_derive_cts_dvalue_gen"><span class="id" title="lemma">cts_derive_cts_dvalue_gen</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Eu'</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>) (<span class="id" title="var">dEu</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>) (<span class="id" title="var">ctx</span> := <a class="idref" href="CoqDSC.LambdaAL.html#Var"><span class="id" title="constructor">Var</span></a> (<a class="idref" href="CoqDSC.Index.html#Idx"><span class="id" title="constructor">Idx</span></a> 0))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">xdF</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>) (<span class="id" title="var">xdF'</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="original_environment_of_rel_env"><span class="id" title="lemma">original_environment_of_rel_env</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">E</span> <span class="id" title="var">dE</span> <span class="id" title="var">E'</span>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.LambdaALEnvValidity.html#rel_env"><span class="id" title="definition">rel_env</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dE"><span class="id" title="variable">dE</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#E'"><span class="id" title="variable">E'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_environment"><span class="id" title="definition">cts_environment</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#c0bae215165134e8b45be99455570b9f"><span class="id" title="notation">⌊#</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_denvironment"><span class="id" title="definition">cts_denvironment</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dE"><span class="id" title="variable">dE</span></a> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#c0bae215165134e8b45be99455570b9f"><span class="id" title="notation">⌋</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">Hrel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="CoqDSC.LambdaALValidity.html#original_env_of_drel_env"><span class="id" title="lemma">original_env_of_drel_env</span></a> (<span class="id" title="var">Hrel</span> 0)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#cts_denvironment_original_environment"><span class="id" title="lemma">cts_denvironment_original_environment</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="modified_environment_of_rel_env"><span class="id" title="lemma">modified_environment_of_rel_env</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">dE</span> <span class="id" title="var">E</span> <span class="id" title="var">E'</span>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.LambdaALEnvValidity.html#rel_env"><span class="id" title="definition">rel_env</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dE"><span class="id" title="variable">dE</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#E'"><span class="id" title="variable">E'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">exists</span></a> <span class="id" title="var">F</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#19fd3d96a032a1abc5e9412813973d23"><span class="id" title="notation">⌈#</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_denvironment"><span class="id" title="definition">cts_denvironment</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dE"><span class="id" title="variable">dE</span></a> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#19fd3d96a032a1abc5e9412813973d23"><span class="id" title="notation">⌉</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">/\</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_environment"><span class="id" title="definition">cts_environment</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#E'"><span class="id" title="variable">E'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#F"><span class="id" title="variable">F</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">Hrel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Ho</span>: 0 <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Peano.html#989c98e7ddd65d5bf37c334ff2076de8"><span class="id" title="notation">&lt;</span></a> 1) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CoqDSC.LambdaALValidity.html#modified_env_of_drel_env"><span class="id" title="lemma">modified_env_of_drel_env</span></a> <span class="id" title="var">Ho</span> (<span class="id" title="var">Hrel</span> 1)). <span class="id" title="tactic">intro</span> <span class="id" title="var">Hd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_environment"><span class="id" title="definition">cts_environment</span></a> <span class="id" title="var">E'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Ho</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hrel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">Hd</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="var">E'</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">dE</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#modified_environment"><span class="id" title="definition">LambdaALOperationalSemantics.modified_environment</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hd</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> * |- *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CoqDSC.ErrorMonad.html#ret"><span class="id" title="definition">ret</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hd</span>. <span class="id" title="var">inverse</span> <span class="id" title="var">Hd</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ErrorMonad.html#inv_success_mbind"><span class="id" title="lemma">inv_success_mbind</span></a> <span class="id" title="var">Hd</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hd</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ErrorMonad.html#inv_success_mbind"><span class="id" title="lemma">inv_success_mbind</span></a> <span class="id" title="var">Hd</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hd</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inverse</span> <span class="id" title="var">Hd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#modified_environment"><span class="id" title="definition">modified_environment</span></a> <span class="id" title="tactic">in</span> * |- *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">IHdE</span> <span class="id" title="var">x0</span>). <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#modified_binding"><span class="id" title="definition">modified_binding</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#move_cts_value"><span class="id" title="lemma">move_cts_value</span></a> <span class="id" title="var">H</span>). <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a name="cts_derive_soundness"><span class="id" title="lemma">cts_derive_soundness</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">E</span> <span class="id" title="var">dE</span> <span class="id" title="var">E'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Let <span class="inlinecode"><a class="idref" href="CoqDSC.LambdaALValues.html#dE"><span class="id" title="variable">dE</span></a></span> be a valid denvironment between <span class="inlinecode"><a class="idref" href="CoqDSC.Environment.html#E"><span class="id" title="variable">E</span></a></span> and <span class="inlinecode"><a class="idref" href="CoqDSC.Environment.html#E'"><span class="id" title="variable">E'</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.LambdaALEnvValidity.html#rel_env"><span class="id" title="definition">rel_env</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dE"><span class="id" title="variable">dE</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#E'"><span class="id" title="variable">E'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">t</span>,<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">

<div class="paragraph"> </div>

        Let <span class="inlinecode"><a class="idref" href="CoqDSC.Environment.html#t"><span class="id" title="definition">t</span></a></span> be a closure body. Its free variables are taken in <span class="inlinecode"><a class="idref" href="CoqDSC.Environment.html#E"><span class="id" title="variable">E</span></a></span>
        or <span class="inlinecode"><a class="idref" href="CoqDSC.Environment.html#E'"><span class="id" title="variable">E'</span></a></span> and they are not attached to any cache. The
        intermediate values met during the evaluation of <span class="inlinecode"><a class="idref" href="CoqDSC.Environment.html#t"><span class="id" title="definition">t</span></a></span> are
        stored in a cache, given by <span class="inlinecode"><a class="idref" href="CoqDSC.ILambdaALDerive.html#cache_of_term"><span class="id" title="definition">cache_of_term</span></a></span> <span class="inlinecode"><a class="idref" href="CoqDSC.Environment.html#t"><span class="id" title="definition">t</span></a></span>.

<div class="paragraph"> </div>

     
</div>
<div class="code">
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">v</span> <span class="id" title="var">v'</span>,<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Let us assume that <span class="inlinecode"><a class="idref" href="CoqDSC.Environment.html#t"><span class="id" title="definition">t</span></a></span> converges under both <span class="inlinecode"><a class="idref" href="CoqDSC.Environment.html#E"><span class="id" title="variable">E</span></a></span> and <span class="inlinecode"><a class="idref" href="CoqDSC.Environment.html#E'"><span class="id" title="variable">E'</span></a></span>. 
</div>
<div class="code">
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#1cdbb28de46816ab21e16a69859bc55a"><span class="id" title="notation">[</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#E"><span class="id" title="variable">E</span></a>  <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#1cdbb28de46816ab21e16a69859bc55a"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#1cdbb28de46816ab21e16a69859bc55a"><span class="id" title="notation">⇓</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#v"><span class="id" title="variable">v</span></a>  <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#1cdbb28de46816ab21e16a69859bc55a"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#1cdbb28de46816ab21e16a69859bc55a"><span class="id" title="notation">[</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#E'"><span class="id" title="variable">E'</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#1cdbb28de46816ab21e16a69859bc55a"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#1cdbb28de46816ab21e16a69859bc55a"><span class="id" title="notation">⇓</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#v'"><span class="id" title="variable">v'</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#1cdbb28de46816ab21e16a69859bc55a"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">exists</span></a> <span class="id" title="var">dv</span> <span class="id" title="var">VC</span> <span class="id" title="var">VC'</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">(</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">

<div class="paragraph"> </div>

               The cts compilation of <span class="inlinecode"><a class="idref" href="CoqDSC.LambdaAL.html#u"><span class="id" title="variable">u</span></a></span> converges under the cts
               compilation of the original environment (Eu ++ E)
               and produces a value which is the cts compilation of
               <span class="inlinecode"><a class="idref" href="CoqDSC.LibTactics.html#v"><span class="id" title="variable">v</span></a></span>, and a cache <span class="inlinecode"><a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#VC"><span class="id" title="variable">VC</span></a></span>.

<div class="paragraph"> </div>

             
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#c4fd2cc8ca41bd987e24ec2bbce4bde0"><span class="id" title="notation">[#</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_environment"><span class="id" title="definition">cts_environment</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#c4fd2cc8ca41bd987e24ec2bbce4bde0"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_term"><span class="id" title="definition">cts_term</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#c4fd2cc8ca41bd987e24ec2bbce4bde0"><span class="id" title="notation">⇓</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_value"><span class="id" title="definition">cts_value</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.ILambdaALValues.html#CacheValue"><span class="id" title="constructor">CacheValue</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#VC"><span class="id" title="variable">VC</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#c4fd2cc8ca41bd987e24ec2bbce4bde0"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">/\</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#c4fd2cc8ca41bd987e24ec2bbce4bde0"><span class="id" title="notation">[#</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_environment"><span class="id" title="definition">cts_environment</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#E'"><span class="id" title="variable">E'</span></a> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#c4fd2cc8ca41bd987e24ec2bbce4bde0"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_term"><span class="id" title="definition">cts_term</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#c4fd2cc8ca41bd987e24ec2bbce4bde0"><span class="id" title="notation">⇓</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_value"><span class="id" title="definition">cts_value</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#v'"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.ILambdaALValues.html#CacheValue"><span class="id" title="constructor">CacheValue</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#VC'"><span class="id" title="variable">VC'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#c4fd2cc8ca41bd987e24ec2bbce4bde0"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">/\</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">[[#</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#VC"><span class="id" title="variable">VC</span></a><a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_denvironment"><span class="id" title="definition">cts_denvironment</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dE"><span class="id" title="variable">dE</span></a> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_derive"><span class="id" title="definition">cts_derive</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">⇓</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_dvalue"><span class="id" title="definition">cts_dvalue</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dv"><span class="id" title="variable">dv</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.ILambdaALValues.html#CacheValue"><span class="id" title="constructor">CacheValue</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#VC'"><span class="id" title="variable">VC'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#45d5217ad7ca4ebed618542fbe6891c7"><span class="id" title="notation">]]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">/\</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#move"><span class="id" title="definition">LambdaALOperationalSemantics.move</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#dv"><span class="id" title="variable">dv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#v'"><span class="id" title="variable">v'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">HrelE</span> * <span class="id" title="var">Hoeval</span> <span class="id" title="var">Hmeval</span>.<br/>

<br/>
</div>

<div class="doc">
The existence of <span class="inlinecode"><a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#dv"><span class="id" title="variable">dv</span></a></span> is a direct consequence of the soundness
      of standard differentiation.  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.LambdaALDeriveProofs.html#derive_soundness"><span class="id" title="lemma">derive_soundness</span></a> <span class="id" title="var">HrelE</span> <span class="id" title="var">Hoeval</span> <span class="id" title="var">Hmeval</span>) <span class="id" title="keyword">as</span> [ <span class="id" title="var">dv</span> [ <span class="id" title="var">Hsound</span> <span class="id" title="var">Hmove</span> ] ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">dv</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_term"><span class="id" title="definition">cts_term</span></a></span> is compatible with evaluation. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#eval_cts_compat"><span class="id" title="lemma">eval_cts_compat</span></a> <span class="id" title="var">Hoeval</span>) <span class="id" title="keyword">as</span> [ <span class="id" title="var">VC</span> <span class="id" title="var">Hoctseval</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ILambdaALCTSProofs.html#eval_cts_compat"><span class="id" title="lemma">eval_cts_compat</span></a> <span class="id" title="var">Hmeval</span>) <span class="id" title="keyword">as</span> [ <span class="id" title="var">VC'</span> <span class="id" title="var">Hmctseval</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">VC</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">VC</span> ]. <span class="id" title="tactic">exists</span> <span class="id" title="var">VC</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">VC'</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">VC'</span> ]. <span class="id" title="tactic">exists</span> <span class="id" title="var">VC'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">split_conj</span>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
</div>

<div class="doc">
      We have reached the heart of this proof: when provided old
      caches, <span class="inlinecode"><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_derive"><span class="id" title="definition">cts_derive</span></a></span> <span class="inlinecode"><a class="idref" href="CoqDSC.Environment.html#t"><span class="id" title="definition">t</span></a></span> indeed computes <span class="inlinecode"><a class="idref" href="CoqDSC.ILambdaALDerive.html#cts_dvalue"><span class="id" title="definition">cts_dvalue</span></a></span> <span class="inlinecode"><a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#dv"><span class="id" title="variable">dv</span></a></span> and the
      cache <span class="inlinecode"><a class="idref" href="CoqDSC.ILambdaALOperationalSemantics.html#VC'"><span class="id" title="variable">VC'</span></a></span> is the same as the one produced by the modified cts
      evaluation.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hderiven</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">exists</span></a> <span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.1/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#5296a2e187cde279670076fa8dae463d"><span class="id" title="notation">[[</span></a><span class="id" title="var">dE</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#5296a2e187cde279670076fa8dae463d"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CoqDSC.LambdaALDerive.html#derive"><span class="id" title="definition">derive</span></a> <span class="id" title="var">t</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#5296a2e187cde279670076fa8dae463d"><span class="id" title="notation">⇓</span></a> <span class="id" title="var">dv</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#5296a2e187cde279670076fa8dae463d"><span class="id" title="notation">@</span></a> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="CoqDSC.LambdaALOperationalSemantics.html#5296a2e187cde279670076fa8dae463d"><span class="id" title="notation">]]</span></a>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.LambdaALOperationalSemanticsProofs.html#step_indexed_evaluation"><span class="id" title="lemma">step_indexed_evaluation</span></a>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hderiven</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">n</span> <span class="id" title="var">Hderiven</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hsound</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#original_environment_of_rel_env"><span class="id" title="lemma">original_environment_of_rel_env</span></a> <span class="id" title="var">HrelE</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hoctseval</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#modified_environment_of_rel_env"><span class="id" title="lemma">modified_environment_of_rel_env</span></a> <span class="id" title="var">HrelE</span>) <span class="id" title="keyword">as</span> [ <span class="id" title="var">F</span> [ <span class="id" title="var">HF</span> <span class="id" title="var">Hr</span> ] ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hr</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmctseval</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CoqDSC.ILambdaALDeriveProofs.html#cts_derive_cts_dvalue"><span class="id" title="lemma">cts_derive_cts_dvalue</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
    </div>
    <div id="footer">
      Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
    </div>
  </div>
  </body>
</html>
